<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>í˜•ì¤€ì´ì™€ í˜œë¹ˆì´ì˜ ì´ì•¼ê¸°</title>

<!-- Pretendard í°íŠ¸ -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/variable/pretendardvariable.css">

<style>
  body{
    margin:0;
    font-family:"Pretendard Variable", system-ui, -apple-system, BlinkMacSystemFont;
    background:#fdf6f0;
    overflow:hidden;
    color:#2b2b2b;
  }

  .page{
    position:absolute;
    inset:0;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    gap:18px;
    padding:20px;
    opacity:0;
    transform:scale(0.97);
    transition:.6s ease;
  }
  .page.active{
    opacity:1;
    transform:scale(1);
    z-index:2;
  }

  img{
    max-width:90%;
    max-height:75vh;
    border-radius:16px;
    box-shadow:0 14px 40px rgba(0,0,0,.15);
  }

  /* í•˜ë‹¨ ë„¤ë¹„ */
  .bottom-nav{
    position:fixed;
    bottom:20px;
    left:0;
    right:0;
    display:flex;
    justify-content:center;
    gap:12px;
    z-index:50;
  }

  .nav-btn{
    padding:12px 22px;
    border:none;
    border-radius:999px;
    font-size:16px;
    font-weight:700;
    background:#ffffffcc;
    backdrop-filter:blur(6px);
    cursor:pointer;
  }

  .nav-btn:disabled{
    opacity:.4;
    cursor:not-allowed;
  }

  .start-btn,
  .yes-btn{
    padding:16px 42px;
    font-size:22px;
    font-weight:900;
    border:none;
    border-radius:999px;
    background:#ff4d6d;
    color:white;
    cursor:pointer;
    box-shadow:0 14px 34px rgba(255,77,109,.3);
  }

  .question{
    text-align:center;
    font-size:clamp(26px,5vw,40px);
    font-weight:900;
  }

  /* ì—”ë”© */
  .ending{
    position:absolute;
    inset:0;
    background:radial-gradient(circle at top,#fff,#fff0f6);
    display:flex;
    align-items:center;
    justify-content:center;
    text-align:center;
    opacity:0;
    pointer-events:none;
    transition:.5s ease;
    z-index:100;
  }
  .ending.show{
    opacity:1;
    pointer-events:auto;
  }

  .ending-msg{
    font-size:clamp(28px,6vw,46px);
    font-weight:900;
    line-height:1.25;
  }

  .ending-icons{
    margin-top:16px;
    font-size:32px;
  }

  /* ê½ƒì */
  .petals{
    position:fixed;
    inset:0;
    pointer-events:none;
    z-index:200;
  }
  .petal{
    position:absolute;
    top:-10vh;
    font-size:22px;
    animation:fall linear forwards;
  }
  @keyframes fall{
    from{transform:translateY(-10vh);}
    to{transform:translateY(110vh);}
  }
</style>
</head>

<body>
<audio id="bgm" src="music.mp3" loop></audio>

<!-- í˜ì´ì§€ -->
<div class="page active">
  <img src="1.png">
  <button class="start-btn" onclick="nextPage()">ì‹œì‘í•˜ê¸°</button>
</div>
<div class="page"><img src="2.png"></div>
<div class="page"><img src="3.png"></div>
<div class="page"><img src="4.png"></div>
<div class="page"><img src="5.png"></div>

<div class="page">
  <div class="question">ë‚˜ì™€ ê²°í˜¼í•´ì¤„ë˜?</div>
  <img src="6.png">
  <button class="yes-btn" onclick="yes()">Yes!</button>
</div>

<!-- í•˜ë‹¨ ì´ì „/ë‹¤ìŒ -->
<div class="bottom-nav">
  <button id="prevBtn" class="nav-btn" onclick="prevPage()" disabled>ì´ì „</button>
  <button id="nextBtn" class="nav-btn" onclick="nextPage()">ë‹¤ìŒ</button>
</div>

<!-- ì—”ë”© -->
<div id="ending" class="ending">
  <div>
    <div class="ending-msg">
      ìš°ë¦¬ ì•ìœ¼ë¡œë„ ê°™ì´ í–‰ë³µí•˜ì
    </div>
    <div class="ending-icons">ğŸŒ¸ğŸ’</div>
  </div>
</div>

<div id="petals" class="petals"></div>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
<script>
  const pages=document.querySelectorAll('.page');
  const prevBtn=document.getElementById('prevBtn');
  const nextBtn=document.getElementById('nextBtn');
  const ending=document.getElementById('ending');
  const petals=document.getElementById('petals');
  const bgm=document.getElementById('bgm');

  let current=0, ended=false;

  document.body.addEventListener('pointerdown',()=>{
    if(bgm.paused) bgm.play().catch(()=>{});
  },{once:true});

  function updateNav(){
    prevBtn.disabled=current===0||ended;
    nextBtn.style.display=(current===pages.length-1||ended)?'none':'inline-block';
  }

  function showPage(i){
    pages[current].classList.remove('active');
    current=i;
    pages[current].classList.add('active');
    updateNav();
  }

  function nextPage(){ if(current<pages.length-1) showPage(current+1); }
  function prevPage(){ if(current>0) showPage(current-1); }

  function dropFlowers(n=30){
    for(let i=0;i<n;i++){
      const s=document.createElement('span');
      s.className='petal';
      s.textContent=['ğŸŒ¸','ğŸŒ·','ğŸ’','ğŸŒº'][Math.floor(Math.random()*4)];
      s.style.left=Math.random()*100+'vw';
      s.style.animationDuration=(Math.random()*2+3)+'s';
      petals.appendChild(s);
      s.addEventListener('animationend',()=>s.remove());
    }
  }

  function yes(){
    ended=true;
    updateNav();
    confetti({particleCount:120,spread:90,origin:{y:.6}});
    dropFlowers(40);
    ending.classList.add('show');
  }

  updateNav();
</script>
</body>
</html>
